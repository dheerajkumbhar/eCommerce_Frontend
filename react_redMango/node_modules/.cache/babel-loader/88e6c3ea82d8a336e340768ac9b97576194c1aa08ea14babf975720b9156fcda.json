{"ast":null,"code":"var _jsxFileName = \"C:\\\\redmango_frontend\\\\react_redMango\\\\src\\\\HOC\\\\withAdminAuth.tsx\";\nimport jwt_decode from \"jwt-decode\";\nimport { SD_Roles } from \"../Utility/SD\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst withAdminAuth = WrappedComponent => {\n  return props => {\n    var _localStorage$getItem;\n    const accessToken = (_localStorage$getItem = localStorage.getItem(\"token\")) !== null && _localStorage$getItem !== void 0 ? _localStorage$getItem : \"\";\n    if (accessToken) {\n      const decode = jwt_decode(accessToken);\n      if (decode.role !== SD_Roles.ADMIN) {\n        window.location.replace(\"/accessDenied\");\n        return null;\n      }\n    } else {\n      window.location.replace(\"/login\");\n      return null;\n    }\n    return /*#__PURE__*/_jsxDEV(WrappedComponent, {\n      ...props\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 12\n    }, this);\n  };\n};\nexport default withAdminAuth;","map":{"version":3,"names":["jwt_decode","SD_Roles","jsxDEV","_jsxDEV","withAdminAuth","WrappedComponent","props","_localStorage$getItem","accessToken","localStorage","getItem","decode","role","ADMIN","window","location","replace","fileName","_jsxFileName","lineNumber","columnNumber"],"sources":["C:/redmango_frontend/react_redMango/src/HOC/withAdminAuth.tsx"],"sourcesContent":["import jwt_decode from \"jwt-decode\";\r\nimport { SD_Roles } from \"../Utility/SD\";\r\n\r\nconst withAdminAuth = (WrappedComponent: any) => {\r\n  return (props: any) => {\r\n    const accessToken = localStorage.getItem(\"token\") ?? \"\";\r\n\r\n    if (accessToken) {\r\n      const decode: {\r\n        role: string;\r\n      } = jwt_decode(accessToken);\r\n\r\n      if (decode.role !== SD_Roles.ADMIN) {\r\n        window.location.replace(\"/accessDenied\");\r\n        return null;\r\n      }\r\n    } else {\r\n      window.location.replace(\"/login\");\r\n      return null;\r\n    }\r\n\r\n    return <WrappedComponent {...props} />;\r\n  };\r\n};\r\n\r\nexport default withAdminAuth;\r\n"],"mappings":";AAAA,OAAOA,UAAU,MAAM,YAAY;AACnC,SAASC,QAAQ,QAAQ,eAAe;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEzC,MAAMC,aAAa,GAAIC,gBAAqB,IAAK;EAC/C,OAAQC,KAAU,IAAK;IAAA,IAAAC,qBAAA;IACrB,MAAMC,WAAW,IAAAD,qBAAA,GAAGE,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,cAAAH,qBAAA,cAAAA,qBAAA,GAAI,EAAE;IAEvD,IAAIC,WAAW,EAAE;MACf,MAAMG,MAEL,GAAGX,UAAU,CAACQ,WAAW,CAAC;MAE3B,IAAIG,MAAM,CAACC,IAAI,KAAKX,QAAQ,CAACY,KAAK,EAAE;QAClCC,MAAM,CAACC,QAAQ,CAACC,OAAO,CAAC,eAAe,CAAC;QACxC,OAAO,IAAI;MACb;IACF,CAAC,MAAM;MACLF,MAAM,CAACC,QAAQ,CAACC,OAAO,CAAC,QAAQ,CAAC;MACjC,OAAO,IAAI;IACb;IAEA,oBAAOb,OAAA,CAACE,gBAAgB;MAAA,GAAKC;IAAK;MAAAW,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAAC;EACxC,CAAC;AACH,CAAC;AAED,eAAehB,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}