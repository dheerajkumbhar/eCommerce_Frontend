{"ast":null,"code":"import { createApi, fetchBaseQuery } from \"@reduxjs/toolkit/query/react\";\nconst orderApi = createApi({\n  reducerPath: \"orderApi\",\n  baseQuery: fetchBaseQuery({\n    baseUrl: process.env.REACT_APP_API_BASE_URL,\n    prepareHeaders: (headers, api) => {\n      const token = localStorage.getItem(\"token\");\n      token && headers.append(\"Authorization\", \"Bearer \" + token);\n    }\n  }),\n  tagTypes: [\"Orders\"],\n  endpoints: builder => ({\n    createOrder: builder.mutation({\n      query: orderDetails => ({\n        url: \"order\",\n        method: \"POST\",\n        headers: {\n          \"Content-type\": \"application/json\"\n        },\n        body: orderDetails\n      }),\n      invalidatesTags: [\"Orders\"]\n    }),\n    getAllOrders: builder.query({\n      query: ({\n        userId,\n        searchString,\n        status,\n        pageNumber,\n        pageSize\n      }) => ({\n        url: \"order\",\n        params: {\n          ...(userId && {\n            userId\n          }),\n          ...(searchString && {\n            searchString\n          }),\n          ...(status && {\n            status\n          }),\n          ...(pageSize && {\n            pageSize\n          }),\n          ...(pageNumber && {\n            pageNumber\n          })\n        }\n      }),\n      transformResponse(apiResponse, meta) {\n        return {\n          apiResponse,\n          totalRecords: meta.response.headers.get(\"X-Pagination\")\n        };\n      },\n      providesTags: [\"Orders\"]\n    }),\n    getOrderDetails: builder.query({\n      query: id => ({\n        url: `order/${id}`\n      }),\n      providesTags: [\"Orders\"]\n    }),\n    updateOrderHeader: builder.mutation({\n      query: orderDetails => ({\n        url: \"order/\" + orderDetails.orderHeaderId,\n        method: \"PUT\",\n        headers: {\n          \"Content-type\": \"application/json\"\n        },\n        body: orderDetails\n      }),\n      invalidatesTags: [\"Orders\"]\n    })\n  })\n});\nexport const {\n  useCreateOrderMutation,\n  useGetAllOrdersQuery,\n  useGetOrderDetailsQuery,\n  useUpdateOrderHeaderMutation\n} = orderApi;\nexport default orderApi;","map":{"version":3,"names":["createApi","fetchBaseQuery","orderApi","reducerPath","baseQuery","baseUrl","process","env","REACT_APP_API_BASE_URL","prepareHeaders","headers","api","token","localStorage","getItem","append","tagTypes","endpoints","builder","createOrder","mutation","query","orderDetails","url","method","body","invalidatesTags","getAllOrders","userId","searchString","status","pageNumber","pageSize","params","transformResponse","apiResponse","meta","totalRecords","response","get","providesTags","getOrderDetails","id","updateOrderHeader","orderHeaderId","useCreateOrderMutation","useGetAllOrdersQuery","useGetOrderDetailsQuery","useUpdateOrderHeaderMutation"],"sources":["C:/redmango_frontend/react_redMango/src/Apis/orderApi.ts"],"sourcesContent":["import { createApi, fetchBaseQuery } from \"@reduxjs/toolkit/query/react\";\r\n\r\nconst orderApi = createApi({\r\n  reducerPath: \"orderApi\",\r\n  baseQuery: fetchBaseQuery({\r\n    baseUrl: process.env.REACT_APP_API_BASE_URL,\r\n    prepareHeaders: (headers: Headers, api) => {\r\n      const token = localStorage.getItem(\"token\");\r\n      token && headers.append(\"Authorization\", \"Bearer \" + token);\r\n    },\r\n  }),\r\n  tagTypes: [\"Orders\"],\r\n  endpoints: (builder) => ({\r\n    createOrder: builder.mutation({\r\n      query: (orderDetails) => ({\r\n        url: \"order\",\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-type\": \"application/json\",\r\n        },\r\n        body: orderDetails,\r\n      }),\r\n      invalidatesTags: [\"Orders\"],\r\n    }),\r\n    getAllOrders: builder.query({\r\n      query: ({ userId, searchString, status, pageNumber, pageSize }) => ({\r\n        url: \"order\",\r\n        params: {\r\n          ...(userId && { userId }),\r\n          ...(searchString && { searchString }),\r\n          ...(status && { status }),\r\n          ...(pageSize && { pageSize }),\r\n          ...(pageNumber && { pageNumber }),\r\n        },\r\n      }),\r\n      transformResponse(apiResponse: { result: any }, meta: any) {\r\n        return {\r\n          apiResponse,\r\n          totalRecords: meta.response.headers.get(\"X-Pagination\"),\r\n        };\r\n      },\r\n      providesTags: [\"Orders\"],\r\n    }),\r\n    getOrderDetails: builder.query({\r\n      query: (id) => ({\r\n        url: `order/${id}`,\r\n      }),\r\n      providesTags: [\"Orders\"],\r\n    }),\r\n    updateOrderHeader: builder.mutation({\r\n      query: (orderDetails) => ({\r\n        url: \"order/\" + orderDetails.orderHeaderId,\r\n        method: \"PUT\",\r\n        headers: {\r\n          \"Content-type\": \"application/json\",\r\n        },\r\n        body: orderDetails,\r\n      }),\r\n      invalidatesTags: [\"Orders\"],\r\n    }),\r\n  }),\r\n});\r\n\r\nexport const {\r\n  useCreateOrderMutation,\r\n  useGetAllOrdersQuery,\r\n  useGetOrderDetailsQuery,\r\n  useUpdateOrderHeaderMutation,\r\n} = orderApi;\r\nexport default orderApi;\r\n"],"mappings":"AAAA,SAASA,SAAS,EAAEC,cAAc,QAAQ,8BAA8B;AAExE,MAAMC,QAAQ,GAAGF,SAAS,CAAC;EACzBG,WAAW,EAAE,UAAU;EACvBC,SAAS,EAAEH,cAAc,CAAC;IACxBI,OAAO,EAAEC,OAAO,CAACC,GAAG,CAACC,sBAAsB;IAC3CC,cAAc,EAAEA,CAACC,OAAgB,EAAEC,GAAG,KAAK;MACzC,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;MAC3CF,KAAK,IAAIF,OAAO,CAACK,MAAM,CAAC,eAAe,EAAE,SAAS,GAAGH,KAAK,CAAC;IAC7D;EACF,CAAC,CAAC;EACFI,QAAQ,EAAE,CAAC,QAAQ,CAAC;EACpBC,SAAS,EAAGC,OAAO,KAAM;IACvBC,WAAW,EAAED,OAAO,CAACE,QAAQ,CAAC;MAC5BC,KAAK,EAAGC,YAAY,KAAM;QACxBC,GAAG,EAAE,OAAO;QACZC,MAAM,EAAE,MAAM;QACdd,OAAO,EAAE;UACP,cAAc,EAAE;QAClB,CAAC;QACDe,IAAI,EAAEH;MACR,CAAC,CAAC;MACFI,eAAe,EAAE,CAAC,QAAQ;IAC5B,CAAC,CAAC;IACFC,YAAY,EAAET,OAAO,CAACG,KAAK,CAAC;MAC1BA,KAAK,EAAEA,CAAC;QAAEO,MAAM;QAAEC,YAAY;QAAEC,MAAM;QAAEC,UAAU;QAAEC;MAAS,CAAC,MAAM;QAClET,GAAG,EAAE,OAAO;QACZU,MAAM,EAAE;UACN,IAAIL,MAAM,IAAI;YAAEA;UAAO,CAAC,CAAC;UACzB,IAAIC,YAAY,IAAI;YAAEA;UAAa,CAAC,CAAC;UACrC,IAAIC,MAAM,IAAI;YAAEA;UAAO,CAAC,CAAC;UACzB,IAAIE,QAAQ,IAAI;YAAEA;UAAS,CAAC,CAAC;UAC7B,IAAID,UAAU,IAAI;YAAEA;UAAW,CAAC;QAClC;MACF,CAAC,CAAC;MACFG,iBAAiBA,CAACC,WAA4B,EAAEC,IAAS,EAAE;QACzD,OAAO;UACLD,WAAW;UACXE,YAAY,EAAED,IAAI,CAACE,QAAQ,CAAC5B,OAAO,CAAC6B,GAAG,CAAC,cAAc;QACxD,CAAC;MACH,CAAC;MACDC,YAAY,EAAE,CAAC,QAAQ;IACzB,CAAC,CAAC;IACFC,eAAe,EAAEvB,OAAO,CAACG,KAAK,CAAC;MAC7BA,KAAK,EAAGqB,EAAE,KAAM;QACdnB,GAAG,EAAE,SAASmB,EAAE;MAClB,CAAC,CAAC;MACFF,YAAY,EAAE,CAAC,QAAQ;IACzB,CAAC,CAAC;IACFG,iBAAiB,EAAEzB,OAAO,CAACE,QAAQ,CAAC;MAClCC,KAAK,EAAGC,YAAY,KAAM;QACxBC,GAAG,EAAE,QAAQ,GAAGD,YAAY,CAACsB,aAAa;QAC1CpB,MAAM,EAAE,KAAK;QACbd,OAAO,EAAE;UACP,cAAc,EAAE;QAClB,CAAC;QACDe,IAAI,EAAEH;MACR,CAAC,CAAC;MACFI,eAAe,EAAE,CAAC,QAAQ;IAC5B,CAAC;EACH,CAAC;AACH,CAAC,CAAC;AAEF,OAAO,MAAM;EACXmB,sBAAsB;EACtBC,oBAAoB;EACpBC,uBAAuB;EACvBC;AACF,CAAC,GAAG9C,QAAQ;AACZ,eAAeA,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}