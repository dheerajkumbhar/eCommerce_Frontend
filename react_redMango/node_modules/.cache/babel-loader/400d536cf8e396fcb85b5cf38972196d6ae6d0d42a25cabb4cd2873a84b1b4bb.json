{"ast":null,"code":"import React,{useState}from\"react\";import{useRegisterUserMutation}from\"../Apis/authApi\";import{inputHelper,toastNotify}from\"../Helper\";import{SD_Roles}from\"../Utility/SD\";import{useNavigate}from\"react-router-dom\";import{MainLoader}from\"../Components/Page/Common\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Register(){const[registerUser]=useRegisterUserMutation();const[loading,setLoading]=useState(false);const navigate=useNavigate();const[userInput,setUserInput]=useState({userName:\"\",password:\"\",role:\"\",name:\"\"});const handleUserInput=e=>{const tempData=inputHelper(e,userInput);setUserInput(tempData);};const handleSubmit=async e=>{e.preventDefault();setLoading(true);const response=await registerUser({userName:userInput.userName,password:userInput.password,role:userInput.role,name:userInput.name});if(response.data){toastNotify(\"Registeration successful! Please login to continue.\");navigate(\"/login\");}else if(response.error){toastNotify(response.error.data.errorMessages[0],\"error\");}setLoading(false);};return/*#__PURE__*/_jsxs(\"div\",{className:\"container text-center\",children:[loading&&/*#__PURE__*/_jsx(MainLoader,{}),/*#__PURE__*/_jsxs(\"form\",{method:\"post\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"h1\",{className:\"mt-5\",children:\"Register\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-5\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-6 offset-sm-3 col-xs-12 mt-4\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"Enter Username\",required:true,name:\"userName\",value:userInput.userName,onChange:handleUserInput})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-6 offset-sm-3 col-xs-12 mt-4\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"Enter Name\",required:true,name:\"name\",value:userInput.name,onChange:handleUserInput})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-6 offset-sm-3 col-xs-12 mt-4\",children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",placeholder:\"Enter Password\",required:true,name:\"password\",value:userInput.password,onChange:handleUserInput})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-6 offset-sm-3 col-xs-12 mt-4\",children:/*#__PURE__*/_jsxs(\"select\",{className:\"form-control form-select\",required:true,value:userInput.role,name:\"role\",onChange:handleUserInput,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"--Select Role--\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\".concat(SD_Roles.CUTOMER),children:\"Customer\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\".concat(SD_Roles.ADMIN),children:\"Admin\"})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-5\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-success\",disabled:loading,children:\"Register\"})})]})]});}export default Register;","map":{"version":3,"names":["React","useState","useRegisterUserMutation","inputHelper","toastNotify","SD_Roles","useNavigate","MainLoader","jsx","_jsx","jsxs","_jsxs","Register","registerUser","loading","setLoading","navigate","userInput","setUserInput","userName","password","role","name","handleUserInput","e","tempData","handleSubmit","preventDefault","response","data","error","errorMessages","className","children","method","onSubmit","type","placeholder","required","value","onChange","concat","CUTOMER","ADMIN","disabled"],"sources":["C:/redmango_frontend/react_redMango/src/Pages/Register.tsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { useRegisterUserMutation } from \"../Apis/authApi\";\r\nimport { inputHelper, toastNotify } from \"../Helper\";\r\nimport { apiResponse } from \"../Interfaces\";\r\nimport { SD_Roles } from \"../Utility/SD\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { MainLoader } from \"../Components/Page/Common\";\r\n\r\nfunction Register() {\r\n  const [registerUser] = useRegisterUserMutation();\r\n  const [loading, setLoading] = useState(false);\r\n  const navigate = useNavigate();\r\n  const [userInput, setUserInput] = useState({\r\n    userName: \"\",\r\n    password: \"\",\r\n    role: \"\",\r\n    name: \"\",\r\n  });\r\n\r\n  const handleUserInput = (\r\n    e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>\r\n  ) => {\r\n    const tempData = inputHelper(e, userInput);\r\n    setUserInput(tempData);\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    const response: apiResponse = await registerUser({\r\n      userName: userInput.userName,\r\n      password: userInput.password,\r\n      role: userInput.role,\r\n      name: userInput.name,\r\n    });\r\n    if (response.data) {\r\n      toastNotify(\"Registeration successful! Please login to continue.\");\r\n      navigate(\"/login\");\r\n    } else if (response.error) {\r\n      toastNotify(response.error.data.errorMessages[0], \"error\");\r\n    }\r\n\r\n    setLoading(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"container text-center\">\r\n      {loading && <MainLoader />}\r\n      <form method=\"post\" onSubmit={handleSubmit}>\r\n        <h1 className=\"mt-5\">Register</h1>\r\n        <div className=\"mt-5\">\r\n          <div className=\"col-sm-6 offset-sm-3 col-xs-12 mt-4\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              placeholder=\"Enter Username\"\r\n              required\r\n              name=\"userName\"\r\n              value={userInput.userName}\r\n              onChange={handleUserInput}\r\n            />\r\n          </div>\r\n          <div className=\"col-sm-6 offset-sm-3 col-xs-12 mt-4\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              placeholder=\"Enter Name\"\r\n              required\r\n              name=\"name\"\r\n              value={userInput.name}\r\n              onChange={handleUserInput}\r\n            />\r\n          </div>\r\n          <div className=\"col-sm-6 offset-sm-3 col-xs-12 mt-4\">\r\n            <input\r\n              type=\"password\"\r\n              className=\"form-control\"\r\n              placeholder=\"Enter Password\"\r\n              required\r\n              name=\"password\"\r\n              value={userInput.password}\r\n              onChange={handleUserInput}\r\n            />\r\n          </div>\r\n          <div className=\"col-sm-6 offset-sm-3 col-xs-12 mt-4\">\r\n            <select\r\n              className=\"form-control form-select\"\r\n              required\r\n              value={userInput.role}\r\n              name=\"role\"\r\n              onChange={handleUserInput}\r\n            >\r\n              <option value=\"\">--Select Role--</option>\r\n              <option value={`${SD_Roles.CUTOMER}`}>Customer</option>\r\n              <option value={`${SD_Roles.ADMIN}`}>Admin</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n        <div className=\"mt-5\">\r\n          <button type=\"submit\" className=\"btn btn-success\" disabled={loading}>\r\n            Register\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Register;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}