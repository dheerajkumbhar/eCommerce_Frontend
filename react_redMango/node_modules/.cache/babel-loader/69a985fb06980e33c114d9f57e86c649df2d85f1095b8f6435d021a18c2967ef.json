{"ast":null,"code":"import React from\"react\";import{useParams}from\"react-router-dom\";import{useGetMenuItemByIdQuery}from\"../Apis/menuItemApi\";import{useNavigate}from\"react-router-dom\";import{useState}from\"react\";import{useUpdateShoppingCartMutation}from\"../Apis/shoppingCartApi\";import{MainLoader,MiniLoader}from\"../Components/Page/Common\";import{toastNotify}from\"../Helper\";import{useSelector}from\"react-redux\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function MenuItemDetails(){var _data$result,_data$result2,_data$result3,_data$result4,_data$result5;const{menuItemId}=useParams();const{data,isLoading}=useGetMenuItemByIdQuery(menuItemId);const navigate=useNavigate();const[quantity,setQuantity]=useState(1);const[isAddingToCart,setIsAddingToCart]=useState(false);const[updateShoppingCart]=useUpdateShoppingCartMutation();const userData=useSelector(state=>state.userAuthStore);const handleQuantity=counter=>{let newQuantity=quantity+counter;if(newQuantity==0){newQuantity=1;}setQuantity(newQuantity);return;};const handleAddToCart=async menuItemId=>{if(!userData.id){navigate(\"/login\");return;}setIsAddingToCart(true);const response=await updateShoppingCart({menuItemId:menuItemId,updateQuantityBy:quantity,userId:userData.id});if(response.data&&response.data.isSuccess){toastNotify(\"Item added to cart successfully!\");}setIsAddingToCart(false);};return/*#__PURE__*/_jsx(\"div\",{className:\"container pt-4 pt-md-5\",children:!isLoading?/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-7\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-success\",children:(_data$result=data.result)===null||_data$result===void 0?void 0:_data$result.name}),/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"badge text-bg-dark pt-2\",style:{height:\"40px\",fontSize:\"20px\"},children:(_data$result2=data.result)===null||_data$result2===void 0?void 0:_data$result2.category})}),/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"badge text-bg-light pt-2\",style:{height:\"40px\",fontSize:\"20px\"},children:(_data$result3=data.result)===null||_data$result3===void 0?void 0:_data$result3.specialTag})}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:\"20px\"},className:\"pt-2\",children:(_data$result4=data.result)===null||_data$result4===void 0?void 0:_data$result4.description}),/*#__PURE__*/_jsxs(\"span\",{className:\"h3\",children:[\"$\",(_data$result5=data.result)===null||_data$result5===void 0?void 0:_data$result5.price]}),\" \\xA0\\xA0\\xA0\",/*#__PURE__*/_jsxs(\"span\",{className:\"pb-2  p-3\",style:{border:\"1px solid #333\",borderRadius:\"30px\"},children:[/*#__PURE__*/_jsx(\"i\",{onClick:()=>{handleQuantity(-1);},className:\"bi bi-dash p-1\",style:{fontSize:\"25px\",cursor:\"pointer\"}}),/*#__PURE__*/_jsx(\"span\",{className:\"h3 mt-3 px-3\",children:quantity}),/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-plus p-1\",onClick:()=>{handleQuantity(+1);},style:{fontSize:\"25px\",cursor:\"pointer\"}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row pt-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-5\",children:isAddingToCart?/*#__PURE__*/_jsx(\"button\",{disabled:true,className:\"btn btn-success form-control\",children:/*#__PURE__*/_jsx(MiniLoader,{})}):/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-success form-control\",onClick:()=>{var _data$result6;return handleAddToCart((_data$result6=data.result)===null||_data$result6===void 0?void 0:_data$result6.id);},children:\"Add to Cart\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-5 \",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary form-control\",onClick:()=>navigate(-1),children:\"Back to Home\"})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-5\",children:/*#__PURE__*/_jsx(\"img\",{src:data.result.image,width:\"100%\",style:{borderRadius:\"50%\"},alt:\"No content\"})})]}):/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center\",style:{width:\"100%\"},children:/*#__PURE__*/_jsx(MainLoader,{})})});}export default MenuItemDetails;","map":{"version":3,"names":["React","useParams","useGetMenuItemByIdQuery","useNavigate","useState","useUpdateShoppingCartMutation","MainLoader","MiniLoader","toastNotify","useSelector","jsx","_jsx","jsxs","_jsxs","MenuItemDetails","_data$result","_data$result2","_data$result3","_data$result4","_data$result5","menuItemId","data","isLoading","navigate","quantity","setQuantity","isAddingToCart","setIsAddingToCart","updateShoppingCart","userData","state","userAuthStore","handleQuantity","counter","newQuantity","handleAddToCart","id","response","updateQuantityBy","userId","isSuccess","className","children","result","name","style","height","fontSize","category","specialTag","description","price","border","borderRadius","onClick","cursor","disabled","_data$result6","src","image","width","alt"],"sources":["C:/redmango_frontend/react_redMango/src/Pages/MenuItemDetails.tsx"],"sourcesContent":["import React from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { useGetMenuItemByIdQuery } from \"../Apis/menuItemApi\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useState } from \"react\";\r\nimport { useUpdateShoppingCartMutation } from \"../Apis/shoppingCartApi\";\r\nimport { MainLoader, MiniLoader } from \"../Components/Page/Common\";\r\nimport { apiResponse, userModel } from \"../Interfaces\";\r\nimport { toastNotify } from \"../Helper\";\r\nimport { RootState } from \"../Storage/Redux/store\";\r\nimport { useSelector } from \"react-redux\";\r\nfunction MenuItemDetails() {\r\n  const { menuItemId } = useParams();\r\n  const { data, isLoading } = useGetMenuItemByIdQuery(menuItemId);\r\n  const navigate = useNavigate();\r\n  const [quantity, setQuantity] = useState(1);\r\n  const [isAddingToCart, setIsAddingToCart] = useState<boolean>(false);\r\n  const [updateShoppingCart] = useUpdateShoppingCartMutation();\r\n  const userData: userModel = useSelector(\r\n    (state: RootState) => state.userAuthStore\r\n  );\r\n\r\n  const handleQuantity = (counter: number) => {\r\n    let newQuantity = quantity + counter;\r\n    if (newQuantity == 0) {\r\n      newQuantity = 1;\r\n    }\r\n    setQuantity(newQuantity);\r\n    return;\r\n  };\r\n\r\n  const handleAddToCart = async (menuItemId: number) => {\r\n    if (!userData.id) {\r\n      navigate(\"/login\");\r\n      return;\r\n    }\r\n    setIsAddingToCart(true);\r\n    const response: apiResponse = await updateShoppingCart({\r\n      menuItemId: menuItemId,\r\n      updateQuantityBy: quantity,\r\n      userId: userData.id,\r\n    });\r\n\r\n    if (response.data && response.data.isSuccess) {\r\n      toastNotify(\"Item added to cart successfully!\");\r\n    }\r\n    setIsAddingToCart(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"container pt-4 pt-md-5\">\r\n      {!isLoading ? (\r\n        <div className=\"row\">\r\n          <div className=\"col-7\">\r\n            <h2 className=\"text-success\">{data.result?.name}</h2>\r\n            <span>\r\n              <span\r\n                className=\"badge text-bg-dark pt-2\"\r\n                style={{ height: \"40px\", fontSize: \"20px\" }}\r\n              >\r\n                {data.result?.category}\r\n              </span>\r\n            </span>\r\n            <span>\r\n              <span\r\n                className=\"badge text-bg-light pt-2\"\r\n                style={{ height: \"40px\", fontSize: \"20px\" }}\r\n              >\r\n                {data.result?.specialTag}\r\n              </span>\r\n            </span>\r\n            <p style={{ fontSize: \"20px\" }} className=\"pt-2\">\r\n              {data.result?.description}\r\n            </p>\r\n            <span className=\"h3\">${data.result?.price}</span> &nbsp;&nbsp;&nbsp;\r\n            <span\r\n              className=\"pb-2  p-3\"\r\n              style={{ border: \"1px solid #333\", borderRadius: \"30px\" }}\r\n            >\r\n              <i\r\n                onClick={() => {\r\n                  handleQuantity(-1);\r\n                }}\r\n                className=\"bi bi-dash p-1\"\r\n                style={{ fontSize: \"25px\", cursor: \"pointer\" }}\r\n              ></i>\r\n              <span className=\"h3 mt-3 px-3\">{quantity}</span>\r\n              <i\r\n                className=\"bi bi-plus p-1\"\r\n                onClick={() => {\r\n                  handleQuantity(+1);\r\n                }}\r\n                style={{ fontSize: \"25px\", cursor: \"pointer\" }}\r\n              ></i>\r\n            </span>\r\n            <div className=\"row pt-4\">\r\n              <div className=\"col-5\">\r\n                {isAddingToCart ? (\r\n                  <button disabled className=\"btn btn-success form-control\">\r\n                    <MiniLoader />\r\n                  </button>\r\n                ) : (\r\n                  <button\r\n                    className=\"btn btn-success form-control\"\r\n                    onClick={() => handleAddToCart(data.result?.id)}\r\n                  >\r\n                    Add to Cart\r\n                  </button>\r\n                )}\r\n              </div>\r\n\r\n              <div className=\"col-5 \">\r\n                <button\r\n                  className=\"btn btn-secondary form-control\"\r\n                  onClick={() => navigate(-1)}\r\n                >\r\n                  Back to Home\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-5\">\r\n            <img\r\n              src={data.result.image}\r\n              width=\"100%\"\r\n              style={{ borderRadius: \"50%\" }}\r\n              alt=\"No content\"\r\n            ></img>\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <div\r\n          className=\"d-flex justify-content-center\"\r\n          style={{ width: \"100%\" }}\r\n        >\r\n          <MainLoader />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MenuItemDetails;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}