{"ast":null,"code":"import React from\"react\";import{useSelector,useDispatch}from\"react-redux\";import{removeFromCart,updateQuantity}from\"../../../Storage/Redux/shoppingCartSlice\";import{useUpdateShoppingCartMutation}from\"../../../Apis/shoppingCartApi\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function CartSummary(){const dispatch=useDispatch();const[updateShoppingCart]=useUpdateShoppingCartMutation();const shoppingCartFromStore=useSelector(state=>{var _state$shoppingCartSt;return(_state$shoppingCartSt=state.shoppingCartStore.cartItems)!==null&&_state$shoppingCartSt!==void 0?_state$shoppingCartSt:[];});const userData=useSelector(state=>state.userAuthStore);if(shoppingCartFromStore.length==0){return/*#__PURE__*/_jsx(\"div\",{className:\"p-5\",children:\"There are no items in your cart. Please add items to continue.\"});}const handleQuantity=(updateQuantityBy,cartItem)=>{if(updateQuantityBy==-1&&cartItem.quantity==1||updateQuantityBy==0){var _cartItem$menuItem;//remove the item\nupdateShoppingCart({menuItemId:(_cartItem$menuItem=cartItem.menuItem)===null||_cartItem$menuItem===void 0?void 0:_cartItem$menuItem.id,updateQuantityBy:0,userId:userData.id});dispatch(removeFromCart({cartItem,quantity:0}));}else{var _cartItem$menuItem2;//update the quantity with the new quantity\nupdateShoppingCart({menuItemId:(_cartItem$menuItem2=cartItem.menuItem)===null||_cartItem$menuItem2===void 0?void 0:_cartItem$menuItem2.id,updateQuantityBy:updateQuantityBy,userId:userData.id});dispatch(updateQuantity({cartItem,quantity:cartItem.quantity+updateQuantityBy}));}};return/*#__PURE__*/_jsxs(\"div\",{className:\"container p-4 m-2\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-center text-success\",children:\"Cart Summary\"}),shoppingCartFromStore.map((cartItem,index)=>{var _cartItem$menuItem3,_cartItem$menuItem4;return/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-sm-row flex-column align-items-center custom-card-shadow rounded m-3\",style:{background:\"ghostwhite\"},children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3\",children:/*#__PURE__*/_jsx(\"img\",{src:(_cartItem$menuItem3=cartItem.menuItem)===null||_cartItem$menuItem3===void 0?void 0:_cartItem$menuItem3.image,alt:\"\",width:\"120px\",className:\"rounded-circle\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-2 mx-3\",style:{width:\"100%\"},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center\",children:[/*#__PURE__*/_jsx(\"h4\",{style:{fontWeight:300},children:(_cartItem$menuItem4=cartItem.menuItem)===null||_cartItem$menuItem4===void 0?void 0:_cartItem$menuItem4.name}),/*#__PURE__*/_jsxs(\"h4\",{children:[\"$\",(cartItem.quantity*cartItem.menuItem.price).toFixed(2)]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-fill\",children:/*#__PURE__*/_jsxs(\"h4\",{className:\"text-danger\",children:[\"$\",cartItem.menuItem.price]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between p-2 mt-2 rounded-pill custom-card-shadow  \",style:{width:\"100px\",height:\"43px\"},children:[/*#__PURE__*/_jsx(\"span\",{style:{color:\"rgba(22,22,22,.7)\"},role:\"button\",children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-dash-circle-fill\",onClick:()=>handleQuantity(-1,cartItem)})}),/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(\"b\",{children:cartItem.quantity})}),/*#__PURE__*/_jsx(\"span\",{style:{color:\"rgba(22,22,22,.7)\"},role:\"button\",children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-plus-circle-fill\",onClick:()=>handleQuantity(1,cartItem)})})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger mx-1\",onClick:()=>handleQuantity(0,cartItem),children:\"Remove\"})]})]})]},index);})]});}export default CartSummary;","map":{"version":3,"names":["React","useSelector","useDispatch","removeFromCart","updateQuantity","useUpdateShoppingCartMutation","jsx","_jsx","jsxs","_jsxs","CartSummary","dispatch","updateShoppingCart","shoppingCartFromStore","state","_state$shoppingCartSt","shoppingCartStore","cartItems","userData","userAuthStore","length","className","children","handleQuantity","updateQuantityBy","cartItem","quantity","_cartItem$menuItem","menuItemId","menuItem","id","userId","_cartItem$menuItem2","map","index","_cartItem$menuItem3","_cartItem$menuItem4","style","background","src","image","alt","width","fontWeight","name","price","toFixed","height","color","role","onClick"],"sources":["C:/redmango_frontend/react_redMango/src/Components/Page/Cart/CartSummary.tsx"],"sourcesContent":["import React from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { cartItemModel, userModel } from \"../../../Interfaces\";\r\nimport {\r\n  removeFromCart,\r\n  updateQuantity,\r\n} from \"../../../Storage/Redux/shoppingCartSlice\";\r\nimport { RootState } from \"../../../Storage/Redux/store\";\r\nimport { useUpdateShoppingCartMutation } from \"../../../Apis/shoppingCartApi\";\r\n\r\nfunction CartSummary() {\r\n  const dispatch = useDispatch();\r\n  const [updateShoppingCart] = useUpdateShoppingCartMutation();\r\n  const shoppingCartFromStore: cartItemModel[] = useSelector(\r\n    (state: RootState) => state.shoppingCartStore.cartItems ?? []\r\n  );\r\n  const userData: userModel = useSelector(\r\n    (state: RootState) => state.userAuthStore\r\n  );\r\n\r\n  if (shoppingCartFromStore.length == 0) {\r\n    return (\r\n      <div className=\"p-5\">\r\n        There are no items in your cart. Please add items to continue.\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const handleQuantity = (\r\n    updateQuantityBy: number,\r\n    cartItem: cartItemModel\r\n  ) => {\r\n    if (\r\n      (updateQuantityBy == -1 && cartItem.quantity == 1) ||\r\n      updateQuantityBy == 0\r\n    ) {\r\n      //remove the item\r\n      updateShoppingCart({\r\n        menuItemId: cartItem.menuItem?.id,\r\n        updateQuantityBy: 0,\r\n        userId: userData.id,\r\n      });\r\n      dispatch(removeFromCart({ cartItem, quantity: 0 }));\r\n    } else {\r\n      //update the quantity with the new quantity\r\n      updateShoppingCart({\r\n        menuItemId: cartItem.menuItem?.id,\r\n        updateQuantityBy: updateQuantityBy,\r\n        userId: userData.id,\r\n      });\r\n      dispatch(\r\n        updateQuantity({\r\n          cartItem,\r\n          quantity: cartItem.quantity! + updateQuantityBy,\r\n        })\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"container p-4 m-2\">\r\n      <h4 className=\"text-center text-success\">Cart Summary</h4>\r\n\r\n      {shoppingCartFromStore.map((cartItem: cartItemModel, index: number) => (\r\n        <div\r\n          key={index}\r\n          className=\"d-flex flex-sm-row flex-column align-items-center custom-card-shadow rounded m-3\"\r\n          style={{ background: \"ghostwhite\" }}\r\n        >\r\n          <div className=\"p-3\">\r\n            <img\r\n              src={cartItem.menuItem?.image}\r\n              alt=\"\"\r\n              width={\"120px\"}\r\n              className=\"rounded-circle\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"p-2 mx-3\" style={{ width: \"100%\" }}>\r\n            <div className=\"d-flex justify-content-between align-items-center\">\r\n              <h4 style={{ fontWeight: 300 }}>{cartItem.menuItem?.name}</h4>\r\n              <h4>\r\n                ${(cartItem.quantity! * cartItem.menuItem!.price).toFixed(2)}\r\n              </h4>\r\n            </div>\r\n            <div className=\"flex-fill\">\r\n              <h4 className=\"text-danger\">${cartItem.menuItem!.price}</h4>\r\n            </div>\r\n            <div className=\"d-flex justify-content-between\">\r\n              <div\r\n                className=\"d-flex justify-content-between p-2 mt-2 rounded-pill custom-card-shadow  \"\r\n                style={{\r\n                  width: \"100px\",\r\n                  height: \"43px\",\r\n                }}\r\n              >\r\n                <span style={{ color: \"rgba(22,22,22,.7)\" }} role=\"button\">\r\n                  <i\r\n                    className=\"bi bi-dash-circle-fill\"\r\n                    onClick={() => handleQuantity(-1, cartItem)}\r\n                  ></i>\r\n                </span>\r\n                <span>\r\n                  <b>{cartItem.quantity}</b>\r\n                </span>\r\n                <span style={{ color: \"rgba(22,22,22,.7)\" }} role=\"button\">\r\n                  <i\r\n                    className=\"bi bi-plus-circle-fill\"\r\n                    onClick={() => handleQuantity(1, cartItem)}\r\n                  ></i>\r\n                </span>\r\n              </div>\r\n\r\n              <button\r\n                className=\"btn btn-danger mx-1\"\r\n                onClick={() => handleQuantity(0, cartItem)}\r\n              >\r\n                Remove\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CartSummary;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}