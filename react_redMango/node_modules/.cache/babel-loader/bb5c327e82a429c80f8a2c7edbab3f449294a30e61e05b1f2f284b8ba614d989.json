{"ast":null,"code":"import _objectSpread from\"C:/redmango_frontend/react_redMango/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{createApi,fetchBaseQuery}from\"@reduxjs/toolkit/query/react\";const orderApi=createApi({reducerPath:\"orderApi\",baseQuery:fetchBaseQuery({baseUrl:process.env.REACT_APP_API_URL,prepareHeaders:(headers,api)=>{const token=localStorage.getItem(\"token\");token&&headers.append(\"Authorization\",\"Bearer \"+token);}}),tagTypes:[\"Orders\"],endpoints:builder=>({createOrder:builder.mutation({query:orderDetails=>({url:\"order\",method:\"POST\",headers:{\"Content-type\":\"application/json\"},body:orderDetails}),invalidatesTags:[\"Orders\"]}),getAllOrders:builder.query({query:_ref=>{let{userId,searchString,status,pageNumber,pageSize}=_ref;return{url:\"order\",params:_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({},userId&&{userId}),searchString&&{searchString}),status&&{status}),pageSize&&{pageSize}),pageNumber&&{pageNumber})};},transformResponse(apiResponse,meta){return{apiResponse,totalRecords:meta.response.headers.get(\"X-Pagination\")};},providesTags:[\"Orders\"]}),getOrderDetails:builder.query({query:id=>({url:\"order/\".concat(id)}),providesTags:[\"Orders\"]}),updateOrderHeader:builder.mutation({query:orderDetails=>({url:\"order/\"+orderDetails.orderHeaderId,method:\"PUT\",headers:{\"Content-type\":\"application/json\"},body:orderDetails}),invalidatesTags:[\"Orders\"]})})});export const{useCreateOrderMutation,useGetAllOrdersQuery,useGetOrderDetailsQuery,useUpdateOrderHeaderMutation}=orderApi;export default orderApi;","map":{"version":3,"names":["createApi","fetchBaseQuery","orderApi","reducerPath","baseQuery","baseUrl","process","env","REACT_APP_API_URL","prepareHeaders","headers","api","token","localStorage","getItem","append","tagTypes","endpoints","builder","createOrder","mutation","query","orderDetails","url","method","body","invalidatesTags","getAllOrders","_ref","userId","searchString","status","pageNumber","pageSize","params","_objectSpread","transformResponse","apiResponse","meta","totalRecords","response","get","providesTags","getOrderDetails","id","concat","updateOrderHeader","orderHeaderId","useCreateOrderMutation","useGetAllOrdersQuery","useGetOrderDetailsQuery","useUpdateOrderHeaderMutation"],"sources":["C:/redmango_frontend/react_redMango/src/Apis/orderApi.ts"],"sourcesContent":["import { createApi, fetchBaseQuery } from \"@reduxjs/toolkit/query/react\";\r\n\r\nconst orderApi = createApi({\r\n  reducerPath: \"orderApi\",\r\n  baseQuery: fetchBaseQuery({\r\n    baseUrl: process.env.REACT_APP_API_URL,\r\n    prepareHeaders: (headers: Headers, api) => {\r\n      const token = localStorage.getItem(\"token\");\r\n      token && headers.append(\"Authorization\", \"Bearer \" + token);\r\n    },\r\n  }),\r\n  tagTypes: [\"Orders\"],\r\n  endpoints: (builder) => ({\r\n    createOrder: builder.mutation({\r\n      query: (orderDetails) => ({\r\n        url: \"order\",\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-type\": \"application/json\",\r\n        },\r\n        body: orderDetails,\r\n      }),\r\n      invalidatesTags: [\"Orders\"],\r\n    }),\r\n    getAllOrders: builder.query({\r\n      query: ({ userId, searchString, status, pageNumber, pageSize }) => ({\r\n        url: \"order\",\r\n        params: {\r\n          ...(userId && { userId }),\r\n          ...(searchString && { searchString }),\r\n          ...(status && { status }),\r\n          ...(pageSize && { pageSize }),\r\n          ...(pageNumber && { pageNumber }),\r\n        },\r\n      }),\r\n      transformResponse(apiResponse: { result: any }, meta: any) {\r\n        return {\r\n          apiResponse,\r\n          totalRecords: meta.response.headers.get(\"X-Pagination\"),\r\n        };\r\n      },\r\n      providesTags: [\"Orders\"],\r\n    }),\r\n    getOrderDetails: builder.query({\r\n      query: (id) => ({\r\n        url: `order/${id}`,\r\n      }),\r\n      providesTags: [\"Orders\"],\r\n    }),\r\n    updateOrderHeader: builder.mutation({\r\n      query: (orderDetails) => ({\r\n        url: \"order/\" + orderDetails.orderHeaderId,\r\n        method: \"PUT\",\r\n        headers: {\r\n          \"Content-type\": \"application/json\",\r\n        },\r\n        body: orderDetails,\r\n      }),\r\n      invalidatesTags: [\"Orders\"],\r\n    }),\r\n  }),\r\n});\r\n\r\nexport const {\r\n  useCreateOrderMutation,\r\n  useGetAllOrdersQuery,\r\n  useGetOrderDetailsQuery,\r\n  useUpdateOrderHeaderMutation,\r\n} = orderApi;\r\nexport default orderApi;\r\n"],"mappings":"wHAAA,OAASA,SAAS,CAAEC,cAAc,KAAQ,8BAA8B,CAExE,KAAM,CAAAC,QAAQ,CAAGF,SAAS,CAAC,CACzBG,WAAW,CAAE,UAAU,CACvBC,SAAS,CAAEH,cAAc,CAAC,CACxBI,OAAO,CAAEC,OAAO,CAACC,GAAG,CAACC,iBAAiB,CACtCC,cAAc,CAAEA,CAACC,OAAgB,CAAEC,GAAG,GAAK,CACzC,KAAM,CAAAC,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3CF,KAAK,EAAIF,OAAO,CAACK,MAAM,CAAC,eAAe,CAAE,SAAS,CAAGH,KAAK,CAAC,CAC7D,CACF,CAAC,CAAC,CACFI,QAAQ,CAAE,CAAC,QAAQ,CAAC,CACpBC,SAAS,CAAGC,OAAO,GAAM,CACvBC,WAAW,CAAED,OAAO,CAACE,QAAQ,CAAC,CAC5BC,KAAK,CAAGC,YAAY,GAAM,CACxBC,GAAG,CAAE,OAAO,CACZC,MAAM,CAAE,MAAM,CACdd,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CAAC,CACDe,IAAI,CAAEH,YACR,CAAC,CAAC,CACFI,eAAe,CAAE,CAAC,QAAQ,CAC5B,CAAC,CAAC,CACFC,YAAY,CAAET,OAAO,CAACG,KAAK,CAAC,CAC1BA,KAAK,CAAEO,IAAA,MAAC,CAAEC,MAAM,CAAEC,YAAY,CAAEC,MAAM,CAAEC,UAAU,CAAEC,QAAS,CAAC,CAAAL,IAAA,OAAM,CAClEL,GAAG,CAAE,OAAO,CACZW,MAAM,CAAAC,aAAA,CAAAA,aAAA,CAAAA,aAAA,CAAAA,aAAA,CAAAA,aAAA,IACAN,MAAM,EAAI,CAAEA,MAAO,CAAC,EACpBC,YAAY,EAAI,CAAEA,YAAa,CAAC,EAChCC,MAAM,EAAI,CAAEA,MAAO,CAAC,EACpBE,QAAQ,EAAI,CAAEA,QAAS,CAAC,EACxBD,UAAU,EAAI,CAAEA,UAAW,CAAC,CAEpC,CAAC,EAAC,CACFI,iBAAiBA,CAACC,WAA4B,CAAEC,IAAS,CAAE,CACzD,MAAO,CACLD,WAAW,CACXE,YAAY,CAAED,IAAI,CAACE,QAAQ,CAAC9B,OAAO,CAAC+B,GAAG,CAAC,cAAc,CACxD,CAAC,CACH,CAAC,CACDC,YAAY,CAAE,CAAC,QAAQ,CACzB,CAAC,CAAC,CACFC,eAAe,CAAEzB,OAAO,CAACG,KAAK,CAAC,CAC7BA,KAAK,CAAGuB,EAAE,GAAM,CACdrB,GAAG,UAAAsB,MAAA,CAAWD,EAAE,CAClB,CAAC,CAAC,CACFF,YAAY,CAAE,CAAC,QAAQ,CACzB,CAAC,CAAC,CACFI,iBAAiB,CAAE5B,OAAO,CAACE,QAAQ,CAAC,CAClCC,KAAK,CAAGC,YAAY,GAAM,CACxBC,GAAG,CAAE,QAAQ,CAAGD,YAAY,CAACyB,aAAa,CAC1CvB,MAAM,CAAE,KAAK,CACbd,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CAAC,CACDe,IAAI,CAAEH,YACR,CAAC,CAAC,CACFI,eAAe,CAAE,CAAC,QAAQ,CAC5B,CAAC,CACH,CAAC,CACH,CAAC,CAAC,CAEF,MAAO,MAAM,CACXsB,sBAAsB,CACtBC,oBAAoB,CACpBC,uBAAuB,CACvBC,4BACF,CAAC,CAAGjD,QAAQ,CACZ,cAAe,CAAAA,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}